import{u as g}from"./index.64890424.js";import{r as m}from"./index.0b2a3d34.js";import{u as x}from"./user.0fa842fb.js";import{M as f}from"./MainBtn.613ab098.js";import{j as e}from"./jsx-runtime.32b752e4.js";import{T as c}from"./TextInput.f4347dd5.js";import{n as h}from"./events.f9ec1bb8.js";import{u as b}from"./useFetcher.eba3529e.js";import{s as j}from"./shallow.9563ddbe.js";import{M as y}from"./MainLoader.0b1e9c65.js";import"./index.1c0a9886.js";import"./use-input-props.c60d46d4.js";import"./Text.5b63783a.js";import"./Input.styles.becb1a1b.js";import"./Input.9c23a1cb.js";import"./index.413c1286.js";import"./index.e77bb1b1.js";import"./index.6a506d10.js";function v(a,t,r){const[o,i]=m.useState(a),[n,d]=m.useState(t(a)?a:void 0),[l,u]=m.useState(typeof r=="boolean"?r:t(a));return[{value:o,lastValidValue:n,valid:l},s=>{t(s)?(d(s),u(!0)):u(!1),i(s)}]}const N=a=>{const t=x(s=>s.userDate),[{number:r,name:o},i]=m.useState({number:t?.user.phonenumber||"",name:t?.user.name||""}),[{value:n,valid:d},l]=v("",s=>/^[\w\-\.]+@([\w-]+\.)+[\w-]{2,}$/gm.test(s),!0),u=s=>{l(s.target.value)};m.useEffect(()=>{l(t?.user.email||"")},[]);const p=async s=>{s.preventDefault();try{h.show({color:"red",title:"ايميل غير صحيح!",message:"يبدو ان الايميل الذي قمت بإدخاله ليس صحيحاً."});return}catch{}};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl lg:text-2xl font-bold text-customBlack mb-2",children:"معلومات الملف الشخصي"}),e.jsx("p",{className:" lg:text-lg",children:"لايمكنك تعديل معلومات الملف الشخصي باستثناء البريد الالكتروني"}),e.jsxs("form",{action:"",onSubmit:p,className:"mt-8 max-w-lg ",children:[e.jsx("div",{className:"mb-3",children:e.jsx(c,{label:"الاسم:",value:o,readOnly:!0,radius:"40px",classNames:{input:"py-4 lg:py-5 focus:border-[#ced4da] font-meduim lg:text-lg",label:"lg:text-lg mb-2 font-meduim "}})}),e.jsx("div",{className:"mb-3 ",children:e.jsx(c,{label:"الايميل:",value:n,type:"email",required:!0,onChange:u,radius:"40px",classNames:{input:" py-4 lg:py-5 focus:border-mainColor [direction:ltr] font-meduim lg:text-lg ",label:"lg:text-lg mb-2 font-meduim"}})}),e.jsx("div",{className:"mb-3",children:e.jsx(c,{label:"رقم الجوال:",value:r,readOnly:!0,radius:"40px",classNames:{input:"text-right [direction:ltr] py-4 lg:py-5  focus:border-[#ced4da] font-meduim lg:text-lg ",label:"lg:text-lg mb-2 font-meduim"}})}),e.jsx("div",{className:"mb-3",children:e.jsx(c,{label:"رقم الجوال:",value:r,readOnly:!0,radius:"40px",classNames:{input:"text-right [direction:ltr] py-4 lg:py-5  focus:border-[#ced4da] font-meduim lg:text-lg ",label:"lg:text-lg mb-2 font-meduim"}})}),e.jsx("div",{children:e.jsx("p",{className:"text-textGray py-5 lg:py-8",children:"لإستقبال : كود تسجيل الدخول، رسائل الحجز المبدئى، رسائل تأكيد الحجز، رسائل انتهاء صلاحية الحجز."})}),e.jsx(f,{type:"submit",className:"w-full text-lg font-bold",children:"حفظ"})]})]})},D=a=>{const{userData:t,setUserData:r}=x(l=>({userData:l.userDate,setUserData:l.setUserData}),j),o="my/reservations",{data:i,isLoading:n,error:d}=b({reqKey:t?.access_token?o:null,url:o,options:{headers:{Authorization:"Bearer "+t?.access_token}}});return e.jsx("div",{className:"px-5 lg:px-8",children:n?e.jsx("div",{className:"py-10",children:e.jsx(y,{})}):e.jsx("div",{children:i?.length?e.jsx("div",{}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-lg font-semibold mb-3",children:"لا يوجد حجوزات سابقة"}),e.jsx("p",{className:"max-lg:text-sm text-textGray",children:"يمكنك متابعة كل حجوزاتك من هنا"})]})})})},z=a=>{const t=g(r=>r.userTap);return e.jsxs("div",{className:"px-5 lg:px-8",children:[t==="profile"||!t?e.jsx(N,{}):null,t==="reservations"?e.jsx(D,{}):null]})};export{z as default};
