import{r as n}from"./index.0b2a3d34.js";import{u as m}from"./index.64890424.js";import{u as x}from"./user.0fa842fb.js";import{s as c}from"./shallow.9563ddbe.js";import{j as e}from"./jsx-runtime.32b752e4.js";import{i as d,f as u}from"./index.8844c111.js";import{a as p,b as f}from"./index.22a20234.js";import{u as h}from"./useFetcher.eba3529e.js";import"./index.1c0a9886.js";import"./index.413c1286.js";import"./index.e77bb1b1.js";import"./index.6a506d10.js";const t=({label:i,icon:l,value:s,className:r=""})=>e.jsxs("div",{style:{boxShadow:"0px 0px 8px 0px #188078d8"},className:` rounded-2xl   rounded-bl-none ${r}  bg-mainColor p-3 text-white font-bold  min-w-[165px] lg:min-w-[180px] xl:min-w-[210px] cursor-pointer`,children:[e.jsxs("div",{className:" flex gap-2 items-center justify-between",children:[e.jsx("div",{className:"rounded-full border-[3px] border-white w-10 aspect-square flex items-center justify-center",children:l}),e.jsx("p",{className:"text-xl ",children:s})]}),e.jsx("p",{className:"text-sm  mt-3",children:i})]}),z=i=>{const l=m(a=>a.refreshState),{userData:s,setUserData:r}=x(a=>({userData:a.userDate,setUserData:a.setUserData}),c),o="me";return h({reqKey:s?.access_token?o:null,url:o,options:{headers:{Authorization:"Bearer "+s?.access_token}},onSuccess:a=>{r(a),window.localStorage.setItem("mabeet-user",JSON.stringify(a))}}),n.useEffect(()=>{window.localStorage.getItem("mabeet-user")||(window.location.href="/")},[l]),n.useEffect(()=>{r(JSON.parse(window.localStorage.getItem("mabeet-user")))},[]),e.jsxs("div",{className:"flex gap-10 py-8 max-lg:flex-col max-lg:items-center max-lg:text-center justify-between ",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-lg xl:text-xl mb-2 text-[2rem] ",children:[e.jsx("img",{src:s?.user.avatar,className:"inline-block ml-2 w-8 aspect-square",alt:"avatar"}),s?.user.name?s.user.name:"الاسم: غير معروف"]}),e.jsx("span",{className:" text-textGray",children:s?.user.name?s.user.email:"الايميل: غير معروف"})]}),e.jsxs("div",{className:"flex max-lg:flex-col gap-4 xl:gap-5 ",children:[e.jsxs("div",{className:"flex gap-4 xl:gap-5",children:[e.jsx(t,{label:"عدد الحجوزات",value:s?.user.resident_number||"0",icon:e.jsx(d,{className:"text-white ",size:18})}),e.jsx(t,{className:" rounded-br-none rounded-bl-xl",label:" تقييمك من المضيفين",value:s?.user.resident_number||"0/10",icon:e.jsx(u,{className:"text-white ",size:18})})]}),e.jsxs("div",{className:"flex gap-4 xl:gap-5",children:[e.jsx(t,{className:" rounded-tl-none rounded-bl-xl",label:"رصيد محفظتك",value:s?.user.resident_number||"0.0,00",icon:e.jsx(p,{className:"text-white ",size:18})}),e.jsx(t,{className:" rounded-tr-none rounded-bl-xl",label:"مضيفين قامو بحضرك",value:s?.user.resident_number||"0",icon:e.jsx(f,{className:"text-white ",size:18})})]})]})]})};export{z as default};
